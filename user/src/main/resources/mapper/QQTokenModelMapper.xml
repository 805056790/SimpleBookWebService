<?xml version="1.0" encoding="UTF-8" ?>
<!--
  ~ Copyright (c) 2016 杭州端点网络科技有限公司, Code Generated by terminus code gen
  -->

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="QQTokenModel">

    <resultMap id="QQTokenModelMap" type="QQTokenModel">
        <id column="id" property="id"/>
                    <result column="user_id" property="userId"/>
                    <result column="ret" property="ret"/>
                    <result column="msg" property="msg"/>
                    <result column="is_lost" property="isLost"/>
                    <result column="nickname" property="nickname"/>
                    <result column="gender" property="gender"/>
                    <result column="province" property="province"/>
                    <result column="city" property="city"/>
                    <result column="year" property="year"/>
                    <result column="figure_url" property="figureUrl"/>
                    <result column="figure_url1" property="figureUrl1"/>
                    <result column="figure_url2" property="figureUrl2"/>
                    <result column="figure_url_qq1" property="figureUrlQq1"/>
                    <result column="figure_url_qq2" property="figureUrlQq2"/>
                    <result column="is_yellow_vip" property="isYellowVip"/>
                    <result column="vip" property="vip"/>
                    <result column="yellow_vip_level" property="yellowVipLevel"/>
                    <result column="level" property="level"/>
                    <result column="is_yellow_year_vip" property="isYellowYearVip"/>
                    <result column="created_at" property="createdAt"/>
                    <result column="updated_at" property="updatedAt"/>
            </resultMap>

    <sql id="tb">
        q_q_token_models    </sql>

    <sql id="cols_all">
      id, <include refid="cols_exclude_id" />
    </sql>

    <sql id="cols_exclude_id">
        `user_id`,`ret`,`msg`,`is_lost`,`nickname`,`gender`,`province`,`city`,`year`,`figure_url`,`figure_url1`,`figure_url2`,`figure_url_qq1`,`figure_url_qq2`,`is_yellow_vip`,`vip`,`yellow_vip_level`,`level`,`is_yellow_year_vip`,`created_at`,`updated_at`    </sql>

    <sql id="vals">
        #{userId},#{ret},#{msg},#{isLost},#{nickname},#{gender},#{province},#{city},#{year},#{figureUrl},#{figureUrl1},#{figureUrl2},#{figureUrlQq1},#{figureUrlQq2},#{isYellowVip},#{vip},#{yellowVipLevel},#{level},#{isYellowYearVip},now(),now()    </sql>

    <insert id="create" parameterType="QQTokenModel" keyProperty="id" useGeneratedKeys="true">
      INSERT INTO
      <include refid="tb" />
      (<include refid="cols_exclude_id" />)
      VALUES
      (<include refid="vals" />)
    </insert>

    <select id="findById" parameterType="long" resultMap="QQTokenModelMap" >
        SELECT <include refid="cols_all" />
        FROM <include refid="tb" />
        WHERE id = #{id}
    </select>


    <update id="update" parameterType="QQTokenModel">
        UPDATE
        <include refid="tb"/>
        <set>
            updated_at = now()
            <if test="userId != null" >,`user_id` = #{userId}</if>
            <if test="ret != null" > ,`ret` = #{ret}</if>
            <if test="msg != null" > ,`msg` = #{msg}</if>
            <if test="isLost != null" > ,`is_lost` = #{isLost}</if>
            <if test="nickname != null" > ,`nickname` = #{nickname}</if>
            <if test="gender != null" > ,`gender` = #{gender}</if>
            <if test="province != null" > ,`province` = #{province}</if>
            <if test="city != null" > ,`city` = #{city}</if>
            <if test="year != null" > ,`year` = #{year}</if>
            <if test="figureUrl != null" > ,`figure_url` = #{figureUrl}</if>
            <if test="figureUrl1 != null" > ,`figure_url1` = #{figureUrl1}</if>
            <if test="figureUrl2 != null" > ,`figure_url2` = #{figureUrl2}</if>
            <if test="figureUrlQq1 != null" > ,`figure_url_qq1` = #{figureUrlQq1}</if>
            <if test="figureUrlQq2 != null" > ,`figure_url_qq2` = #{figureUrlQq2}</if>
            <if test="isYellowVip != null" > ,`is_yellow_vip` = #{isYellowVip}</if>
            <if test="vip != null" > ,`vip` = #{vip}</if>
            <if test="yellowVipLevel != null" > ,`yellow_vip_level` = #{yellowVipLevel}</if>
            <if test="level != null" > ,`level` = #{level}</if>
            <if test="isYellowYearVip != null" > ,`is_yellow_year_vip` = #{isYellowYearVip}</if>
            <if test="createdAt != null" > ,`created_at` = #{createdAt}</if>
        </set>
        WHERE id=#{id}
    </update>


    <delete id="delete" parameterType="long">
        DELETE FROM <include refid="tb"/>
        WHERE id = #{id}
    </delete>


</mapper>